<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.edaisong.api.dao.inter.IGroupBusinessDao" >
  <resultMap id="BaseResultMap" type="com.edaisong.entity.GroupBusiness" >
    <id column="Id" property="id" jdbcType="INTEGER" />
    <result column="GroupBusiName" property="groupbusiname" jdbcType="NVARCHAR" />
    <result column="PhoneNo" property="phoneno" jdbcType="VARCHAR" />
    <result column="Password" property="password" jdbcType="NVARCHAR" />
    <result column="CreateName" property="createname" jdbcType="NCHAR" />
    <result column="CreateTime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="ModifyName" property="modifyname" jdbcType="NCHAR" />
    <result column="ModifyTime" property="modifytime" jdbcType="TIMESTAMP" />
    <result column="Amount" property="amount" jdbcType="DECIMAL" />
    <result column="IsValid" property="isvalid" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    Id, GroupBusiName, LoginName, Password, CreateName, CreateTime, ModifyName, ModifyTime, 
    Amount, IsValid
  </sql>
  <sql id="GetGroupBusinessTable" >
     dbo.groupbusiness(nolock) 
  </sql>
  <sql id="GetGroupBusinessWhere" >
     1=1
		<if test="GroupBusiName != null and GroupBusiName!=''">
			and GroupBusiName like ''%${GroupBusiName}%''
		</if> 
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from GroupBusiness
    where Id = #{id,jdbcType=INTEGER}
  </select>
 
  <insert id="insert" parameterType="com.edaisong.entity.GroupBusiness" >
    insert into GroupBusiness (Id, GroupBusiName, PhoneNo, 
      Password, CreateName, CreateTime, 
      ModifyName, ModifyTime, Amount, 
      IsValid)
    values (#{id,jdbcType=INTEGER}, #{groupbusiname,jdbcType=NVARCHAR}, #{phoneno,jdbcType=VARCHAR}, 
      #{password,jdbcType=NVARCHAR}, #{createname,jdbcType=NCHAR}, #{createtime,jdbcType=TIMESTAMP}, 
      #{modifyname,jdbcType=NCHAR}, #{modifytime,jdbcType=TIMESTAMP}, #{amount,jdbcType=DECIMAL}, 
      #{isvalid,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.edaisong.entity.GroupBusiness" >
    insert into GroupBusiness
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        Id,
      </if>
      <if test="groupbusiname != null" >
        GroupBusiName,
      </if>
      <if test="phoneno != null" >
        PhoneNo,
      </if>
      <if test="password != null" >
        Password,
      </if>
      <if test="createname != null" >
        CreateName,
      </if>
      <if test="createtime != null" >
        CreateTime,
      </if>
      <if test="modifyname != null" >
        ModifyName,
      </if>
      <if test="modifytime != null" >
        ModifyTime,
      </if>
      <if test="amount != null" >
        Amount,
      </if>
      <if test="isvalid != null" >
        IsValid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="groupbusiname != null" >
        #{groupbusiname,jdbcType=NVARCHAR},
      </if>
      <if test="phoneno != null" >
        #{phoneno,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        #{password,jdbcType=NVARCHAR},
      </if>
      <if test="createname != null" >
        #{createname,jdbcType=NCHAR},
      </if>
      <if test="createtime != null" >
        #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyname != null" >
        #{modifyname,jdbcType=NCHAR},
      </if>
      <if test="modifytime != null" >
        #{modifytime,jdbcType=TIMESTAMP},
      </if>
      <if test="amount != null" >
        #{amount,jdbcType=DECIMAL},
      </if>
      <if test="isvalid != null" >
        #{isvalid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.edaisong.entity.GroupBusiness" >
    update GroupBusiness
    <set >
      <if test="groupbusiname != null" >
        GroupBusiName = #{groupbusiname,jdbcType=NVARCHAR},
      </if>
      <if test="phoneno != null" >
        PhoneNo = #{phoneno,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        Password = #{password,jdbcType=NVARCHAR},
      </if>
      <if test="createname != null" >
        CreateName = #{createname,jdbcType=NCHAR},
      </if>
      <if test="createtime != null" >
        CreateTime = #{createtime,jdbcType=TIMESTAMP},
      </if>
      <if test="modifyname != null" >
        ModifyName = #{modifyname,jdbcType=NCHAR},
      </if>
      <if test="modifytime != null" >
        ModifyTime = #{modifytime,jdbcType=TIMESTAMP},
      </if>
      <if test="amount != null" >
        Amount = #{amount,jdbcType=DECIMAL},
      </if>
      <if test="isvalid != null" >
        IsValid = #{isvalid,jdbcType=INTEGER},
      </if>
    </set>
    where Id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.edaisong.entity.GroupBusiness" >
    update GroupBusiness
    set GroupBusiName = #{groupbusiname,jdbcType=NVARCHAR},
      PhoneNo = #{phoneno,jdbcType=VARCHAR},
      Password = #{password,jdbcType=NVARCHAR},
      CreateName = #{createname,jdbcType=NCHAR},
      CreateTime = #{createtime,jdbcType=TIMESTAMP},
      ModifyName = #{modifyname,jdbcType=NCHAR},
      ModifyTime = #{modifytime,jdbcType=TIMESTAMP},
      Amount = #{amount,jdbcType=DECIMAL},
      IsValid = #{isvalid,jdbcType=INTEGER}
    where Id = #{id,jdbcType=INTEGER}
  </update>
  
  <!--后台集团商户管理页面 WangChao -->
	<select id="getPageList" resultType="com.edaisong.entity.domain.GroupBusinessModel"
		parameterType="com.edaisong.entity.req.PagedGroupBusinessReq"
		statementType="CALLABLE">
		{call Sp_CustomPage2015_V1(
		' Id desc ',
		'
		<include refid="Base_Column_List" />
		',
		'
		<include refid="GetGroupBusinessTable" />
		',
		'
		<include refid="GetGroupBusinessWhere" />
		',
		#{pageSize,mode=IN,jdbcType=INTEGER},
		#{currentPage,mode=IN,jdbcType=INTEGER}
		,1,
		#{totalRecord,mode=OUT,jdbcType=INTEGER},
		#{totalPage,mode=OUT,jdbcType=INTEGER}
		)}
	</select>
</mapper>